(this.webpackJsonpmytwitter=this.webpackJsonpmytwitter||[]).push([[0],{361:function(e,t,a){e.exports=a(683)},480:function(e,t){},683:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),i=a.n(o),l=a(28),c=a(63),s=a(24),m=a(21),u=a(15),d=a(19),p=a(18),E=a(13),g=a(17),f=a(9),h=a(3),b=a(4),C=a(748),v=a(749),y=a(44),S=a(744),O=a(156),w=a.n(O),T=a(341),R=a.n(T),j=a(718),x=a(723),P=a(724),k=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).componentDidMount=function(){a.postData=new FormData},a.input=r.a.createRef(),a.onSubmit=function(e){e.preventDefault();var t=a.input.current.value;if(t.trim()){var n=a.props.data;a.postData.set("title","title"),a.postData.set("body",t),console.log("TweetInput FormData(onSubmit)",a.postData.entries());var r={userId:n.user._id,token:n.token,body:a.postData};a.props.onSubmit(r,e),a.input.current.value=""}},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data;return r.a.createElement("form",{onSubmit:this.onSubmit,autoComplete:"off"},r.a.createElement(j.a,{required:!0,fullWidth:!0,multiline:!0,rows:4,placeholder:"What's happening?",inputRef:this.input}),r.a.createElement(x.a,{container:!0,justify:"flex-end"},r.a.createElement(x.a,{item:!0},r.a.createElement(P.a,{disabled:!a,variant:"outlined",color:"primary",type:"submit",className:t.tweetButton},"Post"))))}}]),t}(r.a.Component);k.defaultProps={onSubmit:function(e,t){console.log("TweetInput",e)}};var I=Object(b.a)((function(e){return{paper:{padding:2*e.spacing.unit,height:200},tweetButton:{marginTop:e.spacing.unit}}}))(Object(s.b)((function(e,t){return{authError:e.auth.authError,data:e.auth.data,redirectToReferer:e.auth.redirectToReferer,loading:e.auth.loading,tweets:e.tweets.postData,tweetError:e.tweets.postError}}),(function(e){return{}}))(k)),U=a(29),_=a(72),D=a.n(_),N=a(739),A=a(740),F=a(741),W=a(758),B=a(742),M=a(743),G=a(689),V=a(338),H=a.n(V),q=(a(377),a(152)),J=a(151),L=a(725),z=a(150),K=a(154),X=a(726),Y=a(155),$=a(727),Q=a(728),Z=a(153),ee=a(729),te=a(730),ae=a(731),ne=[q.a,J.a,L.a,z.a,K.a,X.a,Y.a,$.a,Q.a,Z.a,ee.a,te.a,ae.a];function re(e){try{var t=e.toString().split("").map((function(e){return e.charCodeAt()})).reduce((function(e,t){return e+t}),0);return ne[t%ne.length][500]}catch(a){return console.error(a),ae.a[500]}}var oe=a(41),ie=a(331),le=a(345),ce=a(737),se=a(335),me=a.n(se),ue=a(336),de=a.n(ue),pe=a(337),Ee=a.n(pe),ge=a(738),fe=a(732),he=a(736),be=a(734),Ce=a(735),ve=a(733),ye=function(e){var t=e.openEdit,a=e.Transition,n=e.MenuhandleClose,o=e.text,i=e.handleCloseEdit,l=e.onUpdatePostItem,c=e.handleChangeEditText;return r.a.createElement(fe.a,{"aria-labelledby":"form-dialog-title",open:t,TransitionComponent:a,keepMounted:!0,fullWidth:!0,maxWidth:"md",onClose:n},r.a.createElement(ve.a,{id:"alert-dialog-slide-title"},"Edit message"),r.a.createElement("form",null,r.a.createElement(be.a,null,r.a.createElement(Ce.a,null,"please edit contents and press update button."),r.a.createElement(j.a,{autoFocus:!0,margin:"dense",id:"text",multiline:!0,type:"text",fullWidth:!0,defaultValue:o||null,onChange:c("text")})),r.a.createElement(he.a,null,r.a.createElement(P.a,{onClick:i,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:l,color:"primary"},"Update"))))},Se=function(e){var t=e.openComment,a=e.Transition,n=e.MenuhandleClose,o=e.comment,i=e.handleCloseComment,l=e.onUpdateCommentItem,c=e.handleChangeCommentText;return r.a.createElement(fe.a,{"aria-labelledby":"form-dialog-title",open:t,TransitionComponent:a,keepMounted:!0,fullWidth:!0,maxWidth:"md",onClose:n},r.a.createElement(ve.a,{id:"alert-dialog-slide-title"},"Comment"),r.a.createElement("form",null,r.a.createElement(be.a,null,r.a.createElement(Ce.a,null,"please write your comment."),r.a.createElement(j.a,{autoFocus:!0,margin:"dense",id:"comment",multiline:!0,type:"comment",fullWidth:!0,onChange:c("comment")})),o?o.map((function(e){return r.a.createElement(y.a,{variant:"inherit",key:e._id},e.text)})):"",r.a.createElement(he.a,null,r.a.createElement(P.a,{onClick:i,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:l,color:"primary"},"Comment"))))},Oe=Object(b.a)((function(e){return{paper:{padding:2*e.spacing.unit},tweetButton:{marginTop:e.spacing.unit}}}))((function(e){var t=e.isValidUserId,a=(e.open,e.openComment),n=e.onRemovePostItem,o=e.onUpdatePostItem,i=e.onUpdateCommentItem,l=e.anchorEl,c=e.MenuhandleClose,s=e.handleClickOpenEdit,m=e.handleClickOpenComment,u=e.Transition,d=(e.handleClose,e.text),p=e.comment,E=e.openEdit,g=e.handleCloseEdit,f=e.handleCloseComment,h=e.handleChangeEditText,b=e.handleChangeCommentText;return r.a.createElement("div",null,t?r.a.createElement(le.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:c},r.a.createElement(ce.a,{onClick:s},r.a.createElement(ge.a,null,r.a.createElement(me.a,{fontSize:"small"})),r.a.createElement(y.a,{variant:"inherit"},"Edit")),r.a.createElement(ce.a,{onClick:n},r.a.createElement(ge.a,null,r.a.createElement(de.a,{fontSize:"small"})),r.a.createElement(y.a,{variant:"inherit"},"Delete"))):r.a.createElement(le.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:c},r.a.createElement(ce.a,{onClick:m},r.a.createElement(ge.a,null,r.a.createElement(Ee.a,{fontSize:"small"})),r.a.createElement(y.a,{variant:"inherit"},"Comment"))),r.a.createElement(Se,{openComment:a,Transition:u,MenuhandleClose:c,comment:p||"",handleCloseComment:f,onUpdateCommentItem:i,handleChangeCommentText:b}),r.a.createElement(ye,{openEdit:E,Transition:u,MenuhandleClose:c,text:d,handleCloseEdit:g,onUpdatePostItem:o,handleChangeEditText:h}))})),we=a(158),Te=Object(b.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},chip:{margin:e.spacing(.5)},headersection:{margin:e.spacing(1),width:"30vm"},paper:{padding:e.spacing(1),margin:e.spacing(1),width:"30vm"}}}))((function(e){var t=e.classes,a=e.tweet,o=Object(n.useState)(!1),i=Object(U.a)(o,2);i[0],i[1];return r.a.createElement("div",{className:t.root},r.a.createElement(x.a,{container:!0,direction:"column",justify:"flex-start"},r.a.createElement(we.a,{className:t.paper},r.a.createElement(x.a,{container:!0,className:t.headersection},r.a.createElement(x.a,{item:!0,xs:1},r.a.createElement(W.a,{style:{backgroundColor:re(a.postedBy.backgroundColor)}},a.postedBy.lastname.charAt(0)+a.postedBy.firstname.charAt(0))),r.a.createElement(x.a,{item:!0,xs:11},r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},"posted by ",a.postedBy.lastname),r.a.createElement(y.a,{variant:"body2",color:"textSecondary"},D()(a.created).fromNow()),r.a.createElement(y.a,{variant:"body2"},a.body))))))})),Re=Object(b.a)((function(e){return{root:{width:"100%",padding:e.spacing(1),margin:e.spacing(1),backgroundColor:e.palette.background.paper}}}))((function(e){var t=e.classes,a=e.handleChangeCommentText;return r.a.createElement("form",null,r.a.createElement(x.a,{container:!0,direction:"column",justify:"flex-start"},r.a.createElement(x.a,{item:!0,className:t.root},r.a.createElement(y.a,{variant:"h5"},"\u30b3\u30e1\u30f3\u30c8\u3092\u3069\u3046\u305e....")),r.a.createElement(x.a,{item:!0,className:t.root},r.a.createElement(y.a,{variant:"inherit"},r.a.createElement(j.a,{autoFocus:!0,margin:"dense",id:"comment",multiline:!0,type:"comment",fullWidth:!0,onChange:a("comment")})))))})),je=Object(b.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},chip:{margin:e.spacing(.5)},headersection:{margin:e.spacing(1),width:"30vm"},paper:{padding:e.spacing(1),margin:e.spacing(1),width:"30vm"}}}))((function(e){var t=e.classes,a=e.comments,o=Object(n.useState)(!1),i=Object(U.a)(o,2);i[0],i[1];return r.a.createElement("div",{className:t.root},r.a.createElement(x.a,{container:!0,direction:"column",justify:"flex-start"},a?a.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(we.a,{className:t.paper},r.a.createElement(x.a,{container:!0,className:t.headersection},r.a.createElement(x.a,{item:!0,xs:1},r.a.createElement(W.a,{style:{backgroundColor:re(e.postedBy.backgroundColor)}},e.postedBy.lastname.charAt(0)+e.postedBy.firstname.charAt(0))),r.a.createElement(x.a,{item:!0,xs:11},r.a.createElement(y.a,{gutterBottom:!0,variant:"subtitle1"},"commented by ",e.postedBy.lastname),r.a.createElement(y.a,{variant:"body2",color:"textSecondary"},D()(e.created).fromNow()),r.a.createElement(y.a,{variant:"body2"},e.text))),r.a.createElement(x.a,{item:!0},r.a.createElement(y.a,{variant:"body2",style:{cursor:"pointer"}},"Remove"))))})):""))})),xe=Object(b.a)((function(e){return{paper:{padding:2*e.spacing.unit},tweetButton:{marginTop:e.spacing.unit}}}))((function(e){e.classes;var t=e.isValidUserId,a=e.open,n=e.Transition,o=e.handleClose,i=e.tweet,l=(e.text,e.comment),c=e.handleChangeCommentText,s=e.onUpdateCommentItem;return r.a.createElement(fe.a,{open:a,TransitionComponent:n,keepMounted:!0,fullWidth:!0,maxWidth:"md",onClose:o,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(ve.a,{id:"alert-dialog-slide-title"},"Post message"),r.a.createElement(be.a,null,r.a.createElement(Te,{tweet:i}),r.a.createElement(je,{comments:l}),t?"":r.a.createElement(Re,{handleChangeCommentText:c})),r.a.createElement(he.a,null,t?"":r.a.createElement(P.a,{onClick:s,color:"primary"},"Update Comment"),r.a.createElement(P.a,{onClick:o,color:"primary"},"Close")))})),Pe=/\b(https?:\/\/\S+(?:png|jpe?g|gif)\S*)\b/g,ke=r.a.forwardRef((function(e,t){return r.a.createElement(G.a,Object.assign({direction:"up",ref:t},e))})),Ie=function(e){var t=e.str;return t.length>140?t.substring(0,140)+"....(more)":t},Ue=Object(b.a)((function(e){return{card:{marginBottom:2*e.spacing.unit,transitionDuration:"0.5s"},cardMedia:{height:0,paddingTop:"56.25%"},content:{height:"20vw"},link:{textDecoration:"none",color:e.palette.primary.dark},divider:{margin:"".concat(3*e.spacing.unit,"px")},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}))((function(e){var t=e.classes,a=e.tweet,o=e.data,i=e.onRemovePost,l=e.onUpdatePost,c=e.onUpdateComment,s=a.postedBy,u=a.body,d=a.created,p=a._id,E=a.comments,g=o.user._id,f=s?s._id:"",b=s?s.firstname:"",C=s?s.lastname:"",v=(s&&s.email,s?s.backgroundColor:""),O=C.charAt(0)+b.charAt(0),w=C+" "+b,T=u.match(Pe),R=((u.match(/\b(http|https)?:\/\/\S+/gi)||[]).map((function(e){return r.a.createElement(ie.a,{url:e})})),Object(n.useState)(!1)),j=Object(U.a)(R,2),x=j[0],P=j[1],k=Object(n.useState)(!1),I=Object(U.a)(k,2),_=I[0],G=I[1],V=Object(n.useState)(!1),q=Object(U.a)(V,2),J=q[0],L=q[1],z=Object(n.useState)(""),K=Object(U.a)(z,2),X=K[0],Y=K[1],$=Object(n.useState)(""),Q=Object(U.a)($,2),Z=Q[0],ee=Q[1],te=Object(n.useState)(!1),ae=Object(U.a)(te,2),ne=ae[0],le=ae[1],ce=Object(n.useState)(null),se=Object(U.a)(ce,2),me=se[0],ue=se[1],de=Object(oe.a)(),pe=g===f,Ee=function(){P(!1)},ge=function(){G(!1),he()},fe=function(){L(!1),he()},he=function(){ue(null)},be=function(e){return function(e){ee(e.target.value),console.log("TweetMain handleChange (comment)",Z)}},Ce=function(){console.log("MyTweet updatePost -> ",X);var e={userId:g,postId:p,comment:Z,token:o.token};ue(null),fe(),c(e),Y("")};return r.a.createElement(N.a,{key:p,className:t.card,elevation:8},T&&r.a.createElement(A.a,{className:t.cardMedia,image:T[0],title:"An tweet's image"}),r.a.createElement(F.a,{style:{backgroundColor:de.palette.primary.light},avatar:r.a.createElement(W.a,{style:{backgroundColor:re(v)}},O),title:w,subheader:D()(d).fromNow()}),r.a.createElement(B.a,{className:t.content,onClick:function(){P(!0)}},r.a.createElement(y.a,{paragraph:!0,noWrap:!1},r.a.createElement(Ie,{str:u}))),r.a.createElement(M.a,{disableSpacing:!0},r.a.createElement(S.a,{"aria-haspopup":"true","aria-owns":me?"simple-menu":null,className:Object(h.a)(t.expand,Object(m.a)({},t.expandOpen,ne)),onClick:function(e){ue(e.currentTarget),le(!ne)},"aria-expanded":ne,"aria-label":"show more"},r.a.createElement(H.a,null))),r.a.createElement(Oe,{isValidUserId:pe,open:x,openComment:J,onRemovePostItem:function(){var e={postId:p,token:o.token},t=window.confirm("Are you seriously sure you want to delete your message ?");ue(null),t&&i(e)},onUpdatePostItem:function(){var e=new FormData;e.set("title","title"),e.set("body",X),console.log("MyTweet updatePost -> ",X);var t={postId:p,body:e,token:o.token};ue(null),ge(),l(t)},onUpdateCommentItem:Ce,anchorEl:me,MenuhandleClose:he,handleClickOpenEdit:function(){G(!0)},handleClickOpenComment:function(){L(!0)},Transition:ke,handleClose:Ee,text:u,comment:E,openEdit:_,handleCloseEdit:ge,handleCloseComment:fe,handleChangeCommentText:be,handleChangeEditText:function(e){return function(e){Y(e.target.value),console.log("TweetMain handleChange text",X)}}}),r.a.createElement(xe,{isValidUserId:pe,open:x,tweet:a,Transition:ke,handleClose:Ee,text:u,comment:E,handleChangeCommentText:be,onUpdateCommentItem:Ce}))})),_e=function(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(console.log("handleResponse response text --\x3e ",a),!e.ok){200!==e.status&&console.log("handleResponse",e);var n=a&&(a.error||a.statusText);return console.log("error from handleResponse",n),Promise.reject(n)}return a}))},De=function(e){var t=e.userId,a=e.postId,n=e.token,r=e.comment,o={userId:t,postId:a,comment:r};return console.log("comment(tweetActions) comment data to be submit. -> ",o),function(e,o){fetch("/post/comment/update",function(e,t,a,n){return{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({userId:t,postId:a,comment:n})}}(n,t,a,{text:r})).then(_e).then((function(t){console.log("comment (tweetActions) ",t),e({type:"COMMENT_SUCCESS",data:t})})).catch((function(t){e({type:"COMMENT_ERROR",err:t})}))}},Ne=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this))).componentDidMount=function(){console.log("Home componentDidMount() ")},a.componentDidUpdate=function(){console.log("Home componentDidUpdate() call getPosts.")},a.onRemovePost=function(e){var t=a.props.removePost;console.log("Home removePost (onSubmit):",e),t(e)},a.onUpdatePost=function(e){var t=a.props.updatePost,n=e.body;console.log("Home updatePost (onSubmit):",e),console.log("* Home updatePost (onSubmit) postData:",n),t(e)},a.onUpdateComment=function(e){var t=a.props.commentUpdate;console.log("Home updateComment (onSubmit):",e),t(e)},a.onSubmit=function(e){var t=a.props.createPost;console.log("Home post message (onSubmit):",e),t(e)},a.filterGeneralUser=function(){var e=a.props.tweetsPost;return e.sort((function(e,t){return new Date(e.created)-new Date(t.created)})).reverse(),e.filter((function(e){return"rmhmn777@gmail.com"!==e.postedBy.email}))},a.filterAdminlUser=function(){var e=a.props.tweetsPost;return e.sort((function(e,t){return new Date(e.created)-new Date(t.created)})).reverse(),e.filter((function(e){return"rmhmn777@gmail.com"===e.postedBy.email}))},console.log("Home constructor props",e);var n=e.data;a.state={isLogin:!1,isDeleted:!1,token:n?n.token:"",userId:n?n.user._id:"",email:n?n.user.email:""};var r={token:n?n.token:"",userId:n?n.user._id:"",email:n?n.user.email:""};e.firebaseToken;return console.log("Home : firebaseToken --\x3e ",r.token),e.data&&e.getPosts(r),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.data,o=t.tweetsPost,i=t.tweetsError;if(console.log("Home all tweets posted (consolidated after posting)",o),console.log("Home tweetError (render) : ",i),!n)return r.a.createElement(c.a,{to:{pathname:"/signin"}});if(this.state.isDeleted&&!i&&console.log("isDeleted:true non tweetError."),o){console.log("Home posted tweets",o);var l=this.filterGeneralUser();this.filterAdminlUser();return console.log("*** Home generaluserposts --\x3e ",l),r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{container:!0},r.a.createElement(x.a,{item:!0,xs:6,md:10},r.a.createElement(we.a,{className:a.paper_input},r.a.createElement(I,{onSubmit:this.onSubmit})),r.a.createElement(we.a,{className:a.paper_post},r.a.createElement(x.a,{container:!0,direction:"row"},this.filterGeneralUser().map((function(t){return r.a.createElement(x.a,{item:!0,xs:12,md:3,lg:3,key:t._id},t&&r.a.createElement(Ue,{tweet:t,data:n,onRemovePost:e.onRemovePost,onUpdatePost:e.onUpdatePost,onUpdateComment:e.onUpdateComment,key:t.id}))}))))),r.a.createElement(x.a,{item:!0,xs:6,md:2},r.a.createElement(we.a,{className:a.paper_input}),r.a.createElement(we.a,{className:a.paper_post},this.filterAdminlUser().map((function(t){return r.a.createElement(x.a,{item:!0,xs:12,md:12,lg:12,key:t._id},t&&r.a.createElement(Ue,{tweet:t,data:n,onRemovePost:e.onRemovePost,onUpdatePost:e.onUpdatePost,onUpdateComment:e.onUpdateComment,key:t.id}))}))))))}return r.a.createElement("div",null,"loading....")}}]),t}(n.Component),Ae=Object(b.a)((function(e){return{root:{flexGrow:1},paper:{height:200},paper_input:{height:200,margin:.2*e.spacing.unit},paper_post:{width:"100%",margin:.2*e.spacing.unit},control:{padding:e.spacing(2)}}}))(Object(s.b)((function(e){return{tweetsPost:e.tweets.postData,tweetsError:e.tweets.postError,firebaseAuth:e.firebase.auth,firebaseToken:e.auth.firebaseToken,data:e.auth.data}}),(function(e){return{createPost:function(t){return e(function(e){var t=e.userId,a=e.token,n=e.body;return console.log("createPost(tweetActions) body -> ",n),function(e,r){fetch("/post/new/"+t,function(e,t){return{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)},body:t}}(a,n)).then(_e).then((function(t){console.log("createPost (tweetActions) ",t),e({type:"POST_SUCCESS",data:t})})).catch((function(t){e({type:"POST_ERROR",err:t})}))}}(t))},removePost:function(t){return e(function(e){var t=e.postId,a=e.token;return function(e,n){fetch("/post/"+t,function(e){return{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}}(a)).then(_e).then((function(t){console.log("removePost (tweetActions) ",t),e({type:"REMOVEPOST_SUCCESS",data:t})})).catch((function(t){e({type:"REMOVEPOST_ERROR",err:t})}))}}(t))},updatePost:function(t){return e(function(e){var t=e.postId,a=e.token,n=e.body;return console.log("updatePost(tweetActions) body -> ",n),function(e,r){fetch("/post/update/"+t,function(e,t){return{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)},body:t}}(a,n)).then(_e).then((function(t){console.log("updatePost (tweetActions) ",t),e({type:"UPDATEPOST_SUCCESS",data:t})})).catch((function(t){e({type:"UPDATEPOST_ERROR",err:t})}))}}(t))},getPosts:function(t){return e(function(e){e.userId;var t=e.token;return function(e,a){fetch("/posts",function(e,t){return{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}}(t)).then(_e).then((function(t){console.log("getPosts (tweetActions) ",t.posts),e({type:"GETPOST_SUCCESS",data:t.posts})})).catch((function(t){e({type:"GETPOST_ERROR",err:t})}))}}(t))},commentUpdate:function(t){return e(De(t))}}}))(Ne)),Fe=a(750),We=a(747),Be=a(722),Me=a(746),Ge=a(342),Ve=a.n(Ge),He=a(343),qe=a.n(He),Je=a(688),Le=a(745),ze=a(340),Ke=a.n(ze),Xe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this,e))).handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.handleSignOut=function(){a.props.signOut(),a.setState({open:!1})},a.handleProfile=function(){var e={token:a.props.data.token,userId:a.props.data.user._id};a.props.getUser(e),a.setState({open:!1})},a.menuItem=function(){var e=a.props.data;return e?r.a.createElement("div",null,r.a.createElement(Be.a,null,r.a.createElement(Je.a,null,r.a.createElement(ge.a,null,r.a.createElement(w.a,null)),r.a.createElement(Le.a,{primary:e.user.email}))),r.a.createElement(Be.a,null,r.a.createElement(Je.a,{button:!0,onClick:a.handleProfile},r.a.createElement(ge.a,null,r.a.createElement(w.a,null)),r.a.createElement(Le.a,{primary:"edit profile"}))),r.a.createElement(Be.a,null,r.a.createElement(Je.a,{button:!0,component:l.b,to:"/reset-password"},r.a.createElement(ge.a,null,r.a.createElement(Ke.a,null)),r.a.createElement(Le.a,{primary:"Change password"}))),r.a.createElement(Me.a,null),r.a.createElement(Be.a,null,r.a.createElement(Je.a,{button:!0,onClick:a.handleSignOut},r.a.createElement(ge.a,null,r.a.createElement(R.a,null)),r.a.createElement(Le.a,{primary:"Logout"})))):r.a.createElement("div",null,r.a.createElement(Be.a,null,r.a.createElement(Je.a,{button:!0,component:l.b,to:"/signin"},r.a.createElement(ge.a,null,r.a.createElement(w.a,null)),r.a.createElement(Le.a,{primary:"Login"}))))},a.state={open:!1,isAuthenticated:!1},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.redirectToProfile,n=e.user,o=this.state.open;if(console.log("ButtonAppBar redirect profile -> : ",a),n&&a){var i=n._id;return r.a.createElement(c.a,Object.assign({to:{pathname:"/user/".concat(i)}},n))}return r.a.createElement("div",{className:t.root},r.a.createElement(We.a,null),r.a.createElement(C.a,{position:"fixed",className:Object(h.a)(t.appBar,Object(m.a)({},t.appBarShift,o))},r.a.createElement(v.a,null,r.a.createElement(S.a,{color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,edge:"start",className:Object(h.a)(t.menuButton,o&&t.hide)},r.a.createElement(Ve.a,null)),r.a.createElement(y.a,{variant:"h6",noWrap:!0},"Company Board"))),r.a.createElement(Fe.a,{className:t.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(S.a,{onClick:this.handleDrawerClose},r.a.createElement(qe.a,null))),r.a.createElement(Me.a,null),"Image",r.a.createElement(Me.a,null),this.menuItem(),r.a.createElement(Me.a,null)),r.a.createElement("main",{className:Object(h.a)(t.content,Object(m.a)({},t.contentShift,o))},r.a.createElement("div",{className:t.drawerHeader}),r.a.createElement(Ae,null)))}}]),t}(n.Component),Ye=Object(b.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(f.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}))(Xe),$e=function(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){200!==e.status&&console.log("handleResponse",e);var n=a&&(a.error||a.statusText);return console.log("error from handleResponse",n),Promise.reject(n)}return a}))},Qe=function(e){return{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}},Ze=function(e){var t={email:e.email,newPassword:e.newpassword};return function(e,a,n){var r=n().auth().currentUser;console.log("** resetPassword authActions:",r),r.updatePassword(t.newPassword).then((function(){var a;fetch("/reset-password/",(a=t,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)})).then($e).then((function(t){e({type:"RESETPASS_SUCCESS",data:t})})).catch((function(t){console.log("resetPassword error",t),e({type:"RESETPASS_ERROR",err:t})}))})).catch((function(t){console.log("resetPassword error",t),e({type:"RESETPASS_ERROR",err:t})}))}};function et(e){try{var t=JSON.stringify(e);localStorage.setItem("jwt",t)}catch(a){}}function tt(){try{var e=localStorage.removeItem("jwt");return JSON.parse(e)}catch(t){return}}var at=function(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){200!==e.status&&console.log("handleResponse",e);var n=a&&(a.error||a.statusText);return console.log("error from handleResponse",n),Promise.reject(n)}return a}))},nt=function(e){var t=e.userId,a=e.token;return function(n,r){fetch("/user/"+t,function(e,t){return{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}}(a,e)).then(at).then((function(e){n({type:"UPDATEUSER_SUCCESS",userData:e})})).catch((function(e){n({type:"UPDATESER_ERROR",err:e})}))}},rt=function(e){var t=e.userId,a=e.token;return function(e,n){fetch("/user/"+t,function(e){return{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}}(a)).then(at).then((function(t){tt(),e({type:"REMOVEUSER_SUCCESS",userData:t})})).catch((function(t){e({type:"REMOVEESER_ERROR",err:t})}))}},ot=Object(s.b)((function(e,t){return{authError:e.auth.authError,data:e.auth.data,redirectToReferer:e.auth.redirectToReferer,loading:e.auth.loading,user:e.user.userData,redirectToProfile:e.user.redirectToProfile}}),(function(e){return{signOut:function(){return e((function(e,t,a){a().auth().signOut().then((function(){console.log("SignOut success with firebase function. ")})),fetch("/signout",{method:"GET"}).then($e).then((function(t){e({type:"SIGNOUT_SUCCESS"})})).catch((function(t){console.log("signin error",t),e({type:"SIGNOUT_ERROR",err:t})}))}))},getUser:function(t){return e(function(e){var t=e.userId,a=e.token;return function(e,n){fetch("/user/"+t,function(e){return{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}}(a)).then(at).then((function(t){e({type:"GETUSER_SUCCESS",userData:t})})).catch((function(t){e({type:"GETUSER_ERROR",err:t})}))}}(t))}}}))(Ye),it=a(753),lt=a(757),ct=a(754),st=a(751),mt=a(752),ut=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState({error:""}),a.setState(Object(m.a)({},e,t.target.value))}},a.hanldeSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t=a.state,n=t.email,r=t.password;console.log("signin state:",a.state);var o={email:n,password:r};a.props.signIn(o)},a.authentication=function(e){"undefined"!=typeof window&&console.log("save localStorage",e)},a.loginForm=function(e,t,n){return r.a.createElement(we.a,{className:e.padding},r.a.createElement("div",{className:e.margin},r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0},r.a.createElement(st.a,null)),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"email",label:"Email",type:"email",fullWidth:!0,autoFocus:!0,required:!0,onChange:a.handleChange("email")}))),r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0},r.a.createElement(mt.a,null)),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"password",label:"Password",type:"password",fullWidth:!0,required:!0,onChange:a.handleChange("password")}))),r.a.createElement(x.a,{container:!0,alignItems:"center",justify:"space-between"},r.a.createElement(x.a,{item:!0},r.a.createElement(it.a,{control:r.a.createElement(lt.a,{color:"primary"}),label:"Remember me"})),r.a.createElement(x.a,{item:!0},r.a.createElement(P.a,{disableFocusRipple:!0,disableRipple:!0,style:{textTransform:"none"},variant:"text",color:"primary",component:l.b,to:"/forgetpass"},"Forget password ?"))),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"10px"}},r.a.createElement(P.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},onClick:a.hanldeSubmit},"Login")),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"2x"}},r.a.createElement(y.a,{component:"span",variant:"body2",color:"secondary"},t?r.a.createElement("p",null," ",t,"  "):null," ")),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"10px"}},r.a.createElement(y.a,{variant:"h3"},"OR")),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"10px"}},r.a.createElement(P.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},component:l.b,to:"/signup"},"SignUp")),n?r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"12px"}},r.a.createElement(y.a,{variant:"h2"},"LOADING")):""))},a.state={email:"",password:"",error:"",loading:!1,redirectToReferer:!1,token:null},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.authError,n=e.data,o=e.redirectToReferer,i=e.firebaseAuth,l=e.firebaseToken,s=this.state.loading.loading;return n&&console.log("logined user id ",n.user.email),i.emailVerified&&o&&l?r.a.createElement(c.a,{to:"/"}):(i.emailVerified,r.a.createElement("div",null,r.a.createElement(ct.a,{component:"main",maxWidth:"md"},this.loginForm(t,a,s))))}}]),t}(n.Component),dt=Object(b.a)((function(e){return{paper:{marginTop:100,display:"flex",padding:20,flexDirection:"column",alignItems:"center"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit}}}))(ut),pt=Object(s.b)((function(e,t){return{authError:e.auth.authError,data:e.auth.data,redirectToReferer:e.auth.redirectToReferer,loading:e.auth.loading,firebaseAuth:e.firebase.auth,firebaseToken:e.auth.firebaseToken}}),(function(e){return{signIn:function(t){return e(function(e){var t=e.email,a=e.password;return function(e,n,r){var o=r();o.auth().signInWithEmailAndPassword(t,a).then((function(){var n=o.auth().currentUser;console.log("signIn firebase current user (authActions)",n.uid),o.auth().currentUser.getIdToken(!0).then((function(r){console.log("get Firebase Token",r);var o={email:t,password:a,idToken:r,uid:n.uid};fetch("/signin",Qe(o)).then($e).then((function(t){e({type:"SIGNIN_SUCCESS",data:t,firebaseToken:r})})).catch((function(t){console.log("signin error",t),e({type:"SIGNIN_ERROR",err:t.message})}))}))})).catch((function(t){var a=t.message;console.log("sign in error from firebase.",t.message),e({type:"SIGNIN_ERROR",err:a})}))}}(t))},getFirebaseToken:function(){return e((function(e,t,a){a().auth().currentUser.getIdToken(!0).then((function(t){console.log("get Firebase Token",t),e({type:"FIREBASETOKEN_SUCCESS",firebaseToken:t})})).catch((function(t){console.log("getting firebase token error",t),e({type:"FIREBASETOKEN_ERROR",err:t})}))}))}}}))(dt),Et=a(755),gt=a(91),ft=a.n(gt),ht=a(691),bt=a(687),Ct=a(686),vt=a(690),yt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState({error:""}),a.setState(Object(m.a)({},e,t.target.value))}},a.hanldeSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t=a.state,n=t.firstname,r=t.lastname,o=t.email,i=t.password,l=t.backgroundColor;console.log("signin state:",a.state);var c={firstname:n,lastname:r,email:o,password:i,backgroundColor:l};a.props.signUp(c)},a.loginForm=function(e,t){return r.a.createElement(we.a,{className:e.padding},r.a.createElement("div",{className:e.margin},r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0}),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"lastname",label:"\u59d3",type:"text",fullWidth:!0,autoFocus:!0,required:!0,onChange:a.handleChange("lastname")}))),r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0}),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"firstname",label:"\u540d",type:"text",fullWidth:!0,autoFocus:!0,required:!0,onChange:a.handleChange("firstname")}))),r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0},r.a.createElement(st.a,null)),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"email",label:"Email",type:"email",fullWidth:!0,autoFocus:!0,required:!0,onChange:a.handleChange("email")}))),r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0},r.a.createElement(Et.a,null)),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"password",label:"Password",type:"password",fullWidth:!0,required:!0,onChange:a.handleChange("password")}))),r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0},r.a.createElement(Et.a,null)),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"password2",label:"Password2",type:"password",fullWidth:!0,required:!0,onChange:a.handleChange("password2")}))),r.a.createElement(x.a,{container:!0,alignItems:"center",justify:"space-between"},r.a.createElement(x.a,{item:!0},r.a.createElement(ft.a,null)),r.a.createElement(x.a,{item:!0},r.a.createElement(Ct.a,{className:e.formControl},r.a.createElement(ht.a,{id:"demo-simple-select-helper-label"},"Color"),r.a.createElement(vt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:a.state.backgroundColor,onChange:a.handleChange("backgroundColor")},r.a.createElement(ce.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(ce.a,{value:0},"\u8d64"),r.a.createElement(ce.a,{value:1},"\u30d4\u30f3\u30af"),r.a.createElement(ce.a,{value:2},"\u7d2b"),r.a.createElement(ce.a,{value:3},"\u30a4\u30f3\u30c7\u30a3\u30b4"),r.a.createElement(ce.a,{value:4},"\u9752"),r.a.createElement(ce.a,{value:5},"\u30c6\u30a3\u30fc\u30eb"),r.a.createElement(ce.a,{value:6},"\u7dd1"),r.a.createElement(ce.a,{value:7},"\u30e9\u30a4\u30c8\u30b0\u30ea\u30fc\u30f3"),r.a.createElement(ce.a,{value:8},"\u30a2\u30f3\u30d0\u30fc"),r.a.createElement(ce.a,{value:9},"\u30aa\u30ec\u30f3\u30b8"),r.a.createElement(ce.a,{value:10},"\u30c7\u30a4\u2212\u30d7\u30aa\u30ec\u30f3\u30b8")),r.a.createElement(bt.a,null,"Some important helper text")))),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"10px"}},r.a.createElement(P.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},onClick:a.hanldeSubmit},"SignUp")),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"2x"}},r.a.createElement(y.a,{variant:"body2",color:"secondary"},t?r.a.createElement("p",null,"  ",t,"  "):null," ")),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"10px"}},r.a.createElement(y.a,{variant:"h3"},"OR")),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"10px"}},r.a.createElement(P.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},component:l.b,to:"/signin"},"SignIn"))))},a.state={firstname:"",lastname:"",nickname:"",email:"",password:"",password2:"",error:"",backgroundColor:"",loading:!1},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.authError;return r.a.createElement("div",null,r.a.createElement(ct.a,{component:"main",maxWidth:"md"},this.loginForm(t,a)))}}]),t}(n.Component),St=Object(b.a)((function(e){return{paper:{marginTop:100,display:"flex",padding:20,flexDirection:"column",alignItems:"center"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit}}}))(yt),Ot=Object(s.b)((function(e){return console.log("map state to props",e),{authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){var t=e.email,a=e.password,n={firstname:e.firstname,lastname:e.lastname,email:t,password:a,backgroundColor:e.backgroundColor};return function(e,t,a){fetch("/signup",Qe(n)).then($e).then((function(t){e({type:"SIGNUP_SUCCESS"}),alert("\u78ba\u8a8d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u3042\u306a\u305f\u306eEmail\u30dc\u30c3\u30af\u30b9\u306b\u9001\u308a\u307e\u3057\u305f\u3002\u78ba\u8a8d\u304a\u9858\u3044\u3044\u305f\u3057\u307e\u3059\u3002")})).catch((function(t){e({type:"SIGNUP_ERROR",err:t})}))}}(t))}}}))(St),wt=a(756),Tt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).deleteConfirmed=function(){var e=window.confirm("Are you seriously sure you want to delete your account ?"),t=a.props.data,n={userId:t.user._id,token:t.token};e&&(console.log("DeleteUser user -> ",n),a.props.removeUser(n))},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(x.a,{container:!0,style:{marginTop:"20px"}},r.a.createElement(P.a,{color:"secondary",variant:"contained",style:{textTransform:"none"},onClick:this.deleteConfirmed},"Delete"))}}]),t}(n.Component),Rt=Object(b.a)((function(e){return{paper:{marginTop:100,display:"flex",padding:20,flexDirection:"column",alignItems:"center"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit}}}))(Tt),jt=Object(s.b)((function(e,t){return{authError:e.auth.authError,data:e.auth.data,redirectToReferer:e.auth.redirectToReferer,loading:e.auth.loading,user:e.user.userData,userError:e.user.userError,redirectToProfile:e.user.redirectToProfile}}),(function(e){return{removeUser:function(t){return e(rt(t))}}}))(Rt),xt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState({error:""}),a.setState(Object(m.a)({},e,t.target.value))}},a.hanldeSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t=a.state,n=t.firstname,r=t.lastname,o=t.backgroundColor,i=a.props.data,l={firstname:n,lastname:r,backgroundColor:o,userId:i.user._id,token:i.token};a.props.updateUser(l)},a.componentDidMount=function(){var e=a.props.user;e&&a.setState({firstname:e.firstname,lastname:e.lastname,email:e.email,backgroundColor:e.backgroundColor})},a.loginForm=function(e,t,n){return r.a.createElement(we.a,{className:e.padding},r.a.createElement("div",{className:e.margin},r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0}),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"lastname",label:"\u59d3",type:"text",value:t.lastname,fullWidth:!0,autoFocus:!0,required:!0,onChange:a.handleChange("lastname")}))),r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0}),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"firstname",label:"\u540d",type:"text",value:t.firstname,fullWidth:!0,autoFocus:!0,required:!0,onChange:a.handleChange("firstname")}))),r.a.createElement(x.a,{container:!0,alignItems:"center",justify:"space-between"},r.a.createElement(x.a,{item:!0},r.a.createElement(ft.a,null)),r.a.createElement(x.a,{item:!0},r.a.createElement(Ct.a,{className:e.formControl},r.a.createElement(ht.a,{id:"demo-simple-select-helper-label"},"Color"),r.a.createElement(vt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:a.state.backgroundColor,onChange:a.handleChange("backgroundColor")},r.a.createElement(ce.a,{value:t.backgroundColor},r.a.createElement("em",null,"None")),r.a.createElement(ce.a,{value:0},"\u8d64"),r.a.createElement(ce.a,{value:1},"\u30d4\u30f3\u30af"),r.a.createElement(ce.a,{value:2},"\u7d2b"),r.a.createElement(ce.a,{value:3},"\u30a4\u30f3\u30c7\u30a3\u30b4"),r.a.createElement(ce.a,{value:4},"\u9752"),r.a.createElement(ce.a,{value:5},"\u30c6\u30a3\u30fc\u30eb"),r.a.createElement(ce.a,{value:6},"\u7dd1"),r.a.createElement(ce.a,{value:7},"\u30e9\u30a4\u30c8\u30b0\u30ea\u30fc\u30f3"),r.a.createElement(ce.a,{value:8},"\u30a2\u30f3\u30d0\u30fc"),r.a.createElement(ce.a,{value:9},"\u30aa\u30ec\u30f3\u30b8"),r.a.createElement(ce.a,{value:10},"\u30c7\u30a4\u2212\u30d7\u30aa\u30ec\u30f3\u30b8")),r.a.createElement(bt.a,null,"Some important helper text")))),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"10px"}},r.a.createElement(P.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},onClick:a.hanldeSubmit},"Update")),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"2x"}},r.a.createElement(y.a,{component:"span",variant:"body2",color:"secondary"},n?r.a.createElement("p",null,"  ",n,"  "):null," ")),r.a.createElement(jt,null),r.a.createElement(wt.a,{href:"/"},"to Post Board screen")))},a.state={firstname:"",lastname:"",nickname:"",email:"",password:"",password2:"",error:"",backgroundColor:"",loading:!1},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=this.props,a=t.classes,n=t.userError;return r.a.createElement("div",null,r.a.createElement(ct.a,{component:"main",maxWidth:"md"},this.loginForm(a,e,n)))}}]),t}(n.Component),Pt=Object(b.a)((function(e){return{paper:{marginTop:100,display:"flex",padding:20,flexDirection:"column",alignItems:"center"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit}}}))(xt),kt=Object(s.b)((function(e,t){return{authError:e.auth.authError,data:e.auth.data,redirectToReferer:e.auth.redirectToReferer,loading:e.auth.loading,user:e.user.userData,userError:e.user.userError,redirectToProfile:e.user.redirectToProfile}}),(function(e){return{updateUser:function(t){return e(nt(t))},removeUser:function(t){return e(rt(t))}}}))(Pt),It=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState({error:""}),a.setState(Object(m.a)({},e,t.target.value))}},a.hanldeSubmit=function(e){e.preventDefault(),a.setState({loading:!0}),console.log("ForgetPasswords state --\x3e ",a.state),a.props.forgetPassword(a.state)},a.loginForm=function(e){return r.a.createElement(we.a,{className:e.padding},r.a.createElement("div",{className:e.margin},r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0},r.a.createElement(st.a,null)),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"email",label:"Email",type:"email",fullWidth:!0,autoFocus:!0,required:!0,onChange:a.handleChange("email")}))),r.a.createElement(x.a,{container:!0,direction:"column",alignItems:"flex-end"},r.a.createElement(x.a,{item:!0,xs:8}),r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(P.a,{disableFocusRipple:!0,disableRipple:!0,style:{textTransform:"none"},variant:"text",color:"primary",component:l.b,to:"/signin"},"SignIn ?"))),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"10px"}},r.a.createElement(P.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},onClick:a.hanldeSubmit},"Password Reset"))))},a.state={email:"",error:"",loading:!1},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(ct.a,{component:"main",maxWidth:"md"},this.loginForm(e)))}}]),t}(n.Component),Ut=Object(b.a)((function(e){return{paper:{marginTop:100,display:"flex",padding:20,flexDirection:"column",alignItems:"center"},margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit}}}))(It),_t=Object(s.b)((function(e,t){return{authError:e.auth.authError,data:e.auth.data,redirectToReferer:e.auth.redirectToReferer,loading:e.auth.loading,firebaseAuth:e.firebase.auth}}),(function(e){return{forgetPassword:function(t){return e((a=t,function(e,t,n){n().auth().sendPasswordResetEmail(a.email).then((function(){console.log("forgetPassword (authActions) successed."),e({type:"FOREGETPASSWORD_SUCCESS"})})).catch((function(t){e({type:"FOREGETPASSWORD_ERROR",err:t.message})}))}));var a}}}))(Ut),Dt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState({error:""}),a.setState(Object(m.a)({},e,t.target.value))}},a.componentDidMount=function(){console.log("ResetPassword componentDidMount -> ",a.props.data);var e=a.props.data.user;e&&a.setState({email:e.email})},a.hanldeSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t=a.state,n={email:t.email,newpassword:t.newpassword};console.log("ResetPassword handleSubmit -> ",n),a.props.resetPassword(n)},a.authentication=function(e){"undefined"!=typeof window&&console.log("save localStorage",e)},a.loginForm=function(e,t,n){return r.a.createElement(we.a,{className:e.padding},r.a.createElement("div",{className:e.margin},r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0},r.a.createElement(mt.a,null)),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"newpassword",label:"new Password",type:"password",fullWidth:!0,required:!0,onChange:a.handleChange("newpassword")}))),r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0},r.a.createElement(mt.a,null)),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"newpassword2",label:"Confirm new Password",type:"password",fullWidth:!0,required:!0,onChange:a.handleChange("newpassword2")}))),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"10px"}},r.a.createElement(P.a,{disabled:n,variant:"outlined",color:"primary",style:{textTransform:"none"},onClick:a.hanldeSubmit},"Reset Password")),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"2x"}},r.a.createElement(y.a,{component:"span",variant:"body2",color:"secondary"},t?r.a.createElement("p",null," ",t,"  "):null," ")),r.a.createElement(wt.a,{href:"/"},"to Post Board screen")))},a.state={email:"",password:"",newpassword:" ",newpassword2:"",error:"",loading:!1,isValidNewPassword:!1},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.authError,n=this.state.newpassword!==this.state.newpassword2;return console.log("newpassword same as confirmed pasword ",this.state.isValidNewPassword),r.a.createElement("div",null,r.a.createElement(ct.a,{component:"main",maxWidth:"md"},this.loginForm(t,a,n)))}}]),t}(n.Component),Nt=Object(b.a)((function(e){return{paper:{marginTop:100,display:"flex",padding:20,flexDirection:"column",alignItems:"center"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit}}}))(Dt),At=Object(s.b)((function(e,t){return{authError:e.auth.authError,data:e.auth.data,redirectToReferer:e.auth.redirectToReferer,loading:e.auth.loading,user:e.user.userData,userError:e.user.userError,redirectToProfile:e.user.redirectToProfile}}),(function(e){return{updateUser:function(t){return e(nt(t))},removeUser:function(t){return e(rt(t))},resetPassword:function(t){return e(Ze(t))}}}))(Nt),Ft=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState({error:""}),a.setState(Object(m.a)({},e,t.target.value))}},a.hanldeSubmit=function(e){e.preventDefault(),a.setState({loading:!0}),console.log("signin state:",a.state)},a.loginForm=function(e){return r.a.createElement(we.a,{className:e.padding},r.a.createElement("div",{className:e.margin},r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0}),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"lastname",label:"\u59d3",type:"text",fullWidth:!0,autoFocus:!0,required:!0,onChange:a.handleChange("lastname")}))),r.a.createElement(x.a,{container:!0,spacing:8,alignItems:"flex-end"},r.a.createElement(x.a,{item:!0}),r.a.createElement(x.a,{item:!0,md:!0,sm:!0,xs:!0},r.a.createElement(j.a,{id:"firstname",label:"\u540d",type:"text",fullWidth:!0,autoFocus:!0,required:!0,onChange:a.handleChange("firstname")}))),r.a.createElement(x.a,{container:!0,alignItems:"center",justify:"space-between"},r.a.createElement(x.a,{item:!0},r.a.createElement(ft.a,null)),r.a.createElement(x.a,{item:!0},r.a.createElement(Ct.a,{className:e.formControl},r.a.createElement(ht.a,{id:"demo-simple-select-helper-label"},"Color"),r.a.createElement(vt.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:a.state.backgroundColor,onChange:a.handleChange("backgroundColor")},r.a.createElement(ce.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(ce.a,{value:0},"\u8d64"),r.a.createElement(ce.a,{value:1},"\u30d4\u30f3\u30af"),r.a.createElement(ce.a,{value:2},"\u7d2b"),r.a.createElement(ce.a,{value:3},"\u30a4\u30f3\u30c7\u30a3\u30b4"),r.a.createElement(ce.a,{value:4},"\u9752"),r.a.createElement(ce.a,{value:5},"\u30c6\u30a3\u30fc\u30eb"),r.a.createElement(ce.a,{value:6},"\u7dd1"),r.a.createElement(ce.a,{value:7},"\u30e9\u30a4\u30c8\u30b0\u30ea\u30fc\u30f3"),r.a.createElement(ce.a,{value:8},"\u30a2\u30f3\u30d0\u30fc"),r.a.createElement(ce.a,{value:9},"\u30aa\u30ec\u30f3\u30b8"),r.a.createElement(ce.a,{value:10},"\u30c7\u30a4\u2212\u30d7\u30aa\u30ec\u30f3\u30b8")),r.a.createElement(bt.a,null,"Some important helper text")))),r.a.createElement(x.a,{container:!0,justify:"center",style:{marginTop:"10px"}},r.a.createElement(P.a,{variant:"outlined",color:"primary",style:{textTransform:"none"},onClick:a.hanldeSubmit},"Edit"))))},a.state={firstname:"",lastname:"",nickname:"",email:"",password:"",password2:"",error:"",backgroundColor:"",loading:!1},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(ct.a,{component:"main",maxWidth:"md"},this.loginForm(e)))}}]),t}(n.Component),Wt=Object(b.a)((function(e){return{paper:{marginTop:100,display:"flex",padding:20,flexDirection:"column",alignItems:"center"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},margin:{margin:2*e.spacing.unit},padding:{padding:e.spacing.unit}}}))(Ft),Bt=a(346),Mt=function(e){var t=e.component,a=Object(Bt.a)(e,["component"]);return(r.a.createElement(c.b,Object.assign({},a,{render:function(e){return"undefined"!=typeof window&&!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt"))?r.a.createElement(t,e):r.a.createElement(c.a,{to:{pathname:"/signin",state:{from:e.location}}})}})))},Gt=function(){return r.a.createElement(l.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:ot}),r.a.createElement(c.b,{exact:!0,path:"/menu",component:ot}),r.a.createElement(c.b,{exact:!0,path:"/signin",component:pt}),r.a.createElement(c.b,{exact:!0,path:"/signup",component:Ot}),r.a.createElement(Mt,{exact:!0,path:"/user/:userId",component:kt}),r.a.createElement(Mt,{exact:!0,path:"/reset-password",component:At}),r.a.createElement(c.b,{exact:!0,path:"/forgetpass",component:_t}),r.a.createElement(c.b,{exact:!0,path:"/edituser",component:Wt})))},Vt=function(){return r.a.createElement(Gt,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ht=a(61),qt=a(76),Jt={postData:null,postError:null},Lt=function(){var e,t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"POST_SUCCESS":return console.log("create_post new data from tweetReducer ",r.data),(e=console).log.apply(e,["create_post old state from tweetReducer "].concat(Object(qt.a)(n.postData))),{postData:n.postData.concat([r.data]),postError:null};case"POST_ERROR":return console.log("create_tweet_error from tweetReducer ",r.err),Object(f.a)({},n,{single_data:null,postError:r.err});case"UPDATEPOST_SUCCESS":return console.log("update_post new data from tweetReducer ",r.data),(t=console).log.apply(t,["update_post old state from tweetReducer "].concat(Object(qt.a)(n.postData))),{postData:n.postData.map((function(e){return e._id===r.data._id?r.data:e})),postError:null};case"UPDATEPOST_ERROR":return console.log("update_tweet_error from tweetReducer ",r.err),Object(f.a)({},n,{postData:null,postError:r.err});case"REMOVEPOST_SUCCESS":return console.log("remove_post new data from tweetReducer ",r.data),(a=console).log.apply(a,["remove_post old state from tweetReducer "].concat(Object(qt.a)(n.postData))),{postData:n.postData.filter((function(e){return e._id!==r.data._id})),postError:null};case"REMOVEPOST_ERROR":return console.log("remove_tweet_error from tweetReducer ",r.err),Object(f.a)({},n,{single_data:null,postError:r.err});case"GETPOST_SUCCESS":return console.log("get_tweet from tweetReducer ",r.data),Object(f.a)({},n,{postData:r.data,postError:"ok"});case"GETPOST_ERROR":return console.log("get_tweet_error from tweetReducer ",r.err),Object(f.a)({},n,{data:null,postError:r.err});case"COMMENT_SUCCESS":return console.log("comment new data from tweetReducer ",r.data),{postData:n.postData.map((function(e){return e._id===r.data._id?r.data:e})),postError:null};case"COMMENT_ERROR":return console.log("comment_error from tweetReducer ",r.err),Object(f.a)({},n,{postData:null,postError:r.err});default:return n}},zt={authError:null,redirectToReferer:!1,loading:!1,data:function(){try{var e=localStorage.getItem("jwt");return JSON.parse(e)}catch(t){return}}()},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_SUCCESS":return Object(f.a)({},e,{authError:"signup_successed"});case"SIGNUP_ERROR":return Object(f.a)({},e,{authError:t.err});case"SIGNIN_SUCCESS":return et(t.data),Object(f.a)({},e,{authError:"signin_successed",data:t.data,firebaseToken:t.firebaseToken,redirectToReferer:!0});case"SIGNIN_ERROR":return Object(f.a)({},e,{authError:t.err,data:null,redirectToReferer:!1,loading:!1});case"SIGNOUT_SUCCESS":return tt(),console.log("remove JWT from authreducr."),Object(f.a)({},e,{redirectToReferer:!1,data:null,firebaseToken:null,authError:null});case"SIGNOUT_ERROR":return Object(f.a)({},e,{authError:t.err});case"RESETPASS_SUCCESS":return Object(f.a)({},e,{authError:"reset password_successed"});case"RESETPASS_ERROR":return Object(f.a)({},e,{authError:t.err});case"FOREGETPASSWORD_SUCCESS":return Object(f.a)({},e,{authError:"reset password_successed"});case"FOREGETPASSWORD_ERROR":return Object(f.a)({},e,{authError:t.err});default:return e}},Xt={userError:null,userData:null,redirectToProfile:!1},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETUSER_SUCCESS":return Object(f.a)({},e,{userData:t.userData,userError:"getuser_successed",redirectToProfile:!0});case"GETUSER_ERROR":return Object(f.a)({},e,{userData:null,userError:t.err,redirectToProfile:!1});case"UPDATEUSER_SUCCESS":return Object(f.a)({},e,{userData:t.userData,userError:"updateuser_successed",redirectToProfile:!1});case"UPDATEUSER_ERROR":return Object(f.a)({},e,{userData:null,userError:t.err,redirectToProfile:!1});case"REMOVEUSER_SUCCESS":return Object(f.a)({},e,{userData:t.userData,userError:"remove user_successed",redirectToProfile:!1});case"REMOVEUSER_ERROR":return Object(f.a)({},e,{userData:null,userError:t.err,redirectToProfile:!1});default:return e}},$t=a(147),Qt=a(114),Zt=Object(Ht.c)({user:Yt,tweets:Lt,auth:Kt,firestore:$t.firestoreReducer,firebase:Qt.firebaseReducer}),ea=a(344),ta=a(157),aa=a.n(ta);a(678),a(681);aa.a.initializeApp({apiKey:"AIzaSyBVhvfEL9Rljwctai9YF-eosn9025BV-mc",authDomain:"mytwitter-d4927.firebaseapp.com",databaseURL:"https://mytwitter-d4927.firebaseio.com",projectId:"mytwitter-d4927",storageBucket:"mytwitter-d4927.appspot.com",messagingSenderId:"201502672374",appId:"1:201502672374:web:c4aaa4ffcc5800048db3d7"}),aa.a.firestore().settings({timestampsInSnapshots:!0});var na=aa.a,ra=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ht.d,oa=Object(Ht.e)(Zt,ra(Object(Ht.a)(ea.a.withExtraArgument(Qt.getFirebase)))),ia={firebase:na,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:oa.dispatch,createFirestoreInstance:$t.createFirestoreInstance};i.a.render(r.a.createElement(s.a,{store:oa},r.a.createElement(Qt.ReactReduxFirebaseProvider,ia,r.a.createElement(Vt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[361,1,2]]]);
//# sourceMappingURL=main.c48ad806.chunk.js.map